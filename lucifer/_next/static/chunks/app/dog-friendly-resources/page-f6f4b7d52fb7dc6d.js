(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[133],{5805:function(e,s,r){Promise.resolve().then(r.bind(r,450))},7648:function(e,s,r){"use strict";r.d(s,{default:function(){return a.a}});var t=r(2972),a=r.n(t)},450:function(e,s,r){"use strict";r.r(s);var t=r(7437),a=r(2265),l=r(7648),n=r(6385),o=r(336);s.default=()=>{let[e,s]=(0,a.useState)([]),[r,i]=(0,a.useState)([]),[d,c]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null),[u,x]=(0,a.useState)(""),[g,p]=(0,a.useState)(""),[b,f]=(0,a.useState)(""),[y,j]=(0,a.useState)([]),[N,v]=(0,a.useState)([]),[w,S]=(0,a.useState)(!1),[C,D]=(0,a.useState)(!1),[O,k]=(0,a.useState)({organizationID:"",name:"",description:"",address:"",city:"",state:"",zipCode:"",phone:"",website:"",servicesOffered:"",restrictions:"",notes:""}),[A,F]=(0,a.useState)(""),[R,E]=(0,a.useState)(""),I=async()=>{c(!0);try{let e=await n.Z.get("dog-friendly-resources");if(e.success&&e.data){s(e.data),i(e.data);let r=[...new Set(e.data.map(e=>e.City).filter(e=>e&&""!==e.trim()))];j(r.sort());let t=e.data.map(e=>e.ServicesOffered||"").join(" "),a=["shelter","housing","veterinary","food","supplies","training","walking","daycare","grooming","medical"].filter(e=>t.toLowerCase().includes(e.toLowerCase()));v(a)}else h("Failed to load dog-friendly resources")}catch(e){h("An error occurred while loading resources"),console.error("Error fetching dog resources:",e)}finally{c(!1)}};(0,a.useEffect)(()=>{I()},[]),(0,a.useEffect)(()=>{if(0===e.length)return;let s=[...e];if(u){let e=u.toLowerCase();s=s.filter(s=>s.Name.toLowerCase().includes(e)||s.Description&&s.Description.toLowerCase().includes(e)||s.ServicesOffered&&s.ServicesOffered.toLowerCase().includes(e))}g&&(s=s.filter(e=>e.City===g)),b&&(s=s.filter(e=>e.ServicesOffered&&e.ServicesOffered.toLowerCase().includes(b.toLowerCase()))),i(s)},[u,g,b,e]);let L=e=>{let{name:s,value:r}=e.target;k(e=>({...e,[s]:r}))},z=async e=>{e.preventDefault(),F(""),E("");let s={...O,organizationID:Number(O.organizationID)};try{let e=await fetch("/api/dog-friendly-resources",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),r=await e.json();r.success?(E("Resource submitted successfully"),k({organizationID:"",name:"",description:"",address:"",city:"",state:"",zipCode:"",phone:"",website:"",servicesOffered:"",restrictions:"",notes:""}),await I()):F(r.error||"Submission failed")}catch(e){F("An error occurred during submission"),console.error("Submission error:",e)}};return d?(0,t.jsx)(o.Z,{}):m?(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-xl text-red-800 mb-2",children:"Error"}),(0,t.jsx)("p",{className:"text-red-700",children:m}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700",children:"Try Again"})]})}):(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dog-Friendly Resources"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Find services and resources that welcome you and your dog"})]}),(0,t.jsx)("button",{onClick:()=>{S(!w)},className:"bg-blue-50 text-blue-700 py-2 px-4 rounded border border-blue-300 hover:bg-blue-100",children:w?"Show Detailed View":"Show Simple View"})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8 ".concat(w?"text-lg":""),children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"search",className:"block mb-2 ".concat(w?"text-xl font-semibold":"text-sm font-medium text-gray-700"),children:w?"Find:":"Search"}),(0,t.jsx)("input",{type:"text",id:"search",value:u,onChange:e=>x(e.target.value),placeholder:w?"Type what you need":"Search by name, description or services...",className:"w-full p-3 border border-gray-300 rounded-md ".concat(w?"text-lg":"")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"city",className:"block mb-2 ".concat(w?"text-xl font-semibold":"text-sm font-medium text-gray-700"),children:w?"Town or City:":"Filter by City"}),(0,t.jsxs)("select",{id:"city",value:g,onChange:e=>p(e.target.value),className:"w-full p-3 border border-gray-300 rounded-md ".concat(w?"text-lg":""),children:[(0,t.jsx)("option",{value:"",children:"All Cities"}),y.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"service",className:"block mb-2 ".concat(w?"text-xl font-semibold":"text-sm font-medium text-gray-700"),children:w?"What you need:":"Filter by Service Type"}),(0,t.jsxs)("select",{id:"service",value:b,onChange:e=>f(e.target.value),className:"w-full p-3 border border-gray-300 rounded-md ".concat(w?"text-lg":""),children:[(0,t.jsx)("option",{value:"",children:"All Services"}),N.map(e=>(0,t.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})]}),(0,t.jsx)("div",{className:"mt-4 flex justify-end",children:(0,t.jsx)("button",{onClick:()=>{x(""),p(""),f("")},className:"text-blue-600 hover:text-blue-800 ".concat(w?"text-lg font-semibold":""),children:w?"Show everything":"Reset filters"})})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("p",{className:"text-gray-700 ".concat(w?"text-lg":""),children:["Showing ",r.length," of ",e.length," resources"]})}),0===r.length?(0,t.jsxs)("div",{className:"bg-yellow-50 p-6 rounded-lg text-center ".concat(w?"text-xl":""),children:[(0,t.jsx)("h3",{className:"text-yellow-800 font-semibold mb-2",children:w?"Nothing found":"No resources match your search"}),(0,t.jsx)("p",{className:"text-yellow-700",children:w?"Try changing what you're looking for or click 'Show everything'":"Try adjusting your filters or search term to find more dog-friendly resources"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"font-bold text-gray-900 mb-2 ".concat(w?"text-2xl":"text-xl"),children:e.Name}),w?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-lg mb-4",children:e.Description?e.Description.length>100?e.Description.substring(0,100)+"...":e.Description:""}),e.Address&&(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsxs)("p",{className:"text-lg",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Where: "}),e.Address,", ",e.City]})}),e.Phone&&(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsxs)("p",{className:"text-lg",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Phone: "}),e.Phone]})}),e.ServicesOffered&&(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("p",{className:"text-lg",children:[(0,t.jsx)("span",{className:"font-semibold",children:"What they offer: "}),e.ServicesOffered]})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-gray-700 mb-4",children:e.Description}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Contact Information"}),e.Address&&(0,t.jsxs)("p",{className:"text-gray-700",children:[(0,t.jsx)("span",{className:"font-medium",children:"Address: "}),e.Address,", ",e.City,", ",e.State," ",e.ZipCode]}),e.Phone&&(0,t.jsxs)("p",{className:"text-gray-700",children:[(0,t.jsx)("span",{className:"font-medium",children:"Phone: "}),e.Phone]}),e.Website&&(0,t.jsxs)("p",{className:"text-gray-700",children:[(0,t.jsx)("span",{className:"font-medium",children:"Website: "}),(0,t.jsx)("a",{href:e.Website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.Website})]})]}),e.ServicesOffered&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Services Offered"}),(0,t.jsx)("p",{className:"text-gray-700",children:e.ServicesOffered})]}),e.Restrictions&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Restrictions"}),(0,t.jsx)("p",{className:"text-gray-700",children:e.Restrictions})]}),e.Notes&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Additional Notes"}),(0,t.jsx)("p",{className:"text-gray-700",children:e.Notes})]})]}),(0,t.jsx)("div",{className:"flex justify-end mt-4 ".concat(w?"text-lg":""),children:(0,t.jsx)(l.default,{href:"/dog-friendly-resources/".concat(e.DogFriendlyResourceID),className:"text-blue-600 hover:text-blue-800 hover:underline",children:w?"See more":"View details"})})]})},e.DogFriendlyResourceID))}),(0,t.jsxs)("div",{className:"mt-12 bg-red-50 border border-red-200 rounded-lg p-6 ".concat(w?"text-lg":""),children:[(0,t.jsx)("h2",{className:"font-bold text-red-800 mb-2 ".concat(w?"text-2xl":"text-xl"),children:w?"Need help with your dog right now?":"Emergency Support for You and Your Dog"}),(0,t.jsx)("p",{className:"text-red-700 mb-4",children:w?"If you and your dog need help now, we can help you find a safe place to stay.":"If you're in a crisis situation and need immediate assistance with your dog, please contact our emergency helpline."}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsx)(l.default,{href:"/emergency",className:"bg-red-600 text-white py-3 px-6 rounded-lg text-center hover:bg-red-700",children:w?"Get emergency help":"Emergency Services"}),(0,t.jsx)("a",{href:"tel:+447853811172",className:"bg-white text-red-600 border border-red-300 py-3 px-6 rounded-lg text-center hover:bg-red-50",children:w?"Call for help: +447853811172":"Call Helpline: +447853811172"})]})]}),(0,t.jsxs)("div",{className:"mt-12 bg-gray-50 rounded-lg p-6 text-center",children:[(0,t.jsx)("h2",{className:"font-bold text-gray-900 mb-2 ".concat(w?"text-2xl":"text-xl"),children:w?"Want to add a dog-friendly place?":"Know of a Dog-Friendly Resource We Should Add?"}),(0,t.jsx)("p",{className:"mb-4 ".concat(w?"text-lg":"text-gray-700"),children:w?"Tell us about places that help people with dogs.":"Help us grow our database of dog-friendly resources for people experiencing homelessness."}),(0,t.jsxs)("div",{className:"inline-block",children:[(0,t.jsx)("a",{href:"mailto:dogs@homeless.website",className:"bg-blue-600 text-white py-3 px-6 rounded-lg inline-block hover:bg-blue-700",children:w?"Email us":"Submit a Resource"}),(0,t.jsx)("button",{onClick:()=>{D(e=>!e),F(""),E("")},className:"ml-4 bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700",children:C?"Hide Form":"Add Resource Online"})]}),C&&(0,t.jsxs)("form",{onSubmit:z,className:"mt-6 max-w-xl mx-auto text-left",children:[R&&(0,t.jsx)("p",{className:"text-green-600 mb-2",children:R}),A&&(0,t.jsx)("p",{className:"text-red-600 mb-2",children:A}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,t.jsx)("input",{name:"organizationID",value:O.organizationID,onChange:L,placeholder:"Organization ID",className:"w-full p-2 border rounded",required:!0}),(0,t.jsx)("input",{name:"name",value:O.name,onChange:L,placeholder:"Name*",className:"w-full p-2 border rounded",required:!0}),(0,t.jsx)("textarea",{name:"description",value:O.description,onChange:L,placeholder:"Description",rows:3,className:"w-full p-2 border rounded"}),(0,t.jsx)("input",{name:"address",value:O.address,onChange:L,placeholder:"Address",className:"w-full p-2 border rounded"}),(0,t.jsx)("input",{name:"city",value:O.city,onChange:L,placeholder:"City",className:"w-full p-2 border rounded"}),(0,t.jsx)("input",{name:"state",value:O.state,onChange:L,placeholder:"State",className:"w-full p-2 border rounded"}),(0,t.jsx)("input",{name:"zipCode",value:O.zipCode,onChange:L,placeholder:"Zip Code",className:"w-full p-2 border rounded"}),(0,t.jsx)("input",{name:"phone",value:O.phone,onChange:L,placeholder:"Phone",className:"w-full p-2 border rounded"}),(0,t.jsx)("input",{name:"website",value:O.website,onChange:L,placeholder:"Website URL",className:"w-full p-2 border rounded"}),(0,t.jsx)("textarea",{name:"servicesOffered",value:O.servicesOffered,onChange:L,placeholder:"Services Offered",rows:2,className:"w-full p-2 border rounded"}),(0,t.jsx)("textarea",{name:"restrictions",value:O.restrictions,onChange:L,placeholder:"Restrictions",rows:2,className:"w-full p-2 border rounded"}),(0,t.jsx)("textarea",{name:"notes",value:O.notes,onChange:L,placeholder:"Additional Notes",rows:2,className:"w-full p-2 border rounded"})]}),(0,t.jsx)("div",{className:"mt-4 text-right",children:(0,t.jsx)("button",{type:"submit",className:"bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Submit"})})]})]})]})}},336:function(e,s,r){"use strict";var t=r(7437);r(2265),s.Z=e=>{let{size:s="md",color:r="primary",className:a="",text:l}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center ".concat(a),children:[(0,t.jsx)("div",{className:"animate-spin rounded-full ".concat({sm:"h-4 w-4 border-2",md:"h-8 w-8 border-2",lg:"h-12 w-12 border-3",xl:"h-16 w-16 border-4"}[s]," ").concat({primary:"border-red-700 border-t-transparent",secondary:"border-blue-600 border-t-transparent",gray:"border-gray-600 border-t-transparent"}[r]),role:"status","aria-label":"Loading",children:(0,t.jsx)("span",{className:"sr-only",children:"Loading..."})}),l&&(0,t.jsx)("p",{className:"mt-3 text-".concat("primary"===r?"red-700":"secondary"===r?"blue-600":"gray-600"),children:l})]})}},6385:function(e,s){"use strict";s.Z={async get(e,s){try{let r="/api/".concat(e);if(s){let e=new URLSearchParams;Object.entries(s).forEach(s=>{let[r,t]=s;e.append(r,String(t))}),r+="?".concat(e.toString())}let t=await fetch(r),a=await t.json();if(a.success)return{success:!0,data:a.data};return{success:!1,error:a.error||"Unknown error"}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}},async post(e,s){try{let r=await fetch("/api/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),t=await r.json();if(t.success)return{success:!0,data:t.data};return{success:!1,error:t.error||"Unknown error"}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}}}}},function(e){e.O(0,[2972,2971,2117,1744],function(){return e(e.s=5805)}),_N_E=e.O()}]);